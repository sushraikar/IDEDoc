<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flow Snippets - Windsurf IDE - UAE Real-Estate AI Platform</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
    <link rel="stylesheet" href="../css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css">
</head>
<body class="bg-gray-50">
    <header class="bg-white shadow-md sticky top-0 z-30">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center">
                    <button id="sidebar-toggle" class="mr-4 p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100 lg:hidden">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                    <a href="../index.html" class="flex items-center">
                        <span class="text-xl font-bold text-blue-600">UAE Real-Estate AI</span>
                    </a>
                </div>
                
                <nav class="hidden md:flex space-x-8">
                    <a href="../docs/index.html" class="text-gray-600 hover:text-blue-600 font-medium">Documentation</a>
                    <a href="index.html" class="text-gray-600 hover:text-blue-600 font-medium">Windsurf IDE</a>
                </nav>
                
                <div class="flex items-center">
                    <div class="relative">
                        <input type="search" id="search-input" placeholder="Search..." class="px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 hidden md:block">
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="flex flex-1 min-h-screen">
        <aside id="sidebar" class="fixed inset-y-0 left-0 z-20 w-64 bg-white border-r border-gray-200 pt-16 pb-4 transform -translate-x-full transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-auto lg:z-auto">
            <div class="h-full overflow-y-auto px-4 py-4">
                <div class="mb-6">
                    <h2 class="text-lg font-bold text-blue-600">Windsurf IDE</h2>
                </div>
                
                <nav class="space-y-1">
                    <a href="index.html" class="flex items-center px-3 py-2 text-sm rounded-md hover:bg-gray-100 text-gray-900">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                        </svg>
                        <span>Overview</span>
                    </a>
                    <a href="setup-guide.html" class="flex items-center px-3 py-2 text-sm rounded-md hover:bg-gray-100 text-gray-900">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                        <span>Setup Guide</span>
                    </a>
                    <a href="flow-snippets.html" class="flex items-center px-3 py-2 text-sm rounded-md bg-blue-50 text-blue-700">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                        </svg>
                        <span>Flow Snippets</span>
                    </a>
                    <a href="mcp-server.html" class="flex items-center px-3 py-2 text-sm rounded-md hover:bg-gray-100 text-gray-900">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01" />
                        </svg>
                        <span>MCP Server</span>
                    </a>
                    <a href="troubleshooting.html" class="flex items-center px-3 py-2 text-sm rounded-md hover:bg-gray-100 text-gray-900">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span>Troubleshooting</span>
                    </a>
                    <a href="validation-tools.html" class="flex items-center px-3 py-2 text-sm rounded-md hover:bg-gray-100 text-gray-900">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span>Validation Tools</span>
                    </a>
                </nav>
                
                <div class="mt-8 pt-6 border-t border-gray-200">
                    <a href="../docs/index.html" class="flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-900 hover:bg-gray-100">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                        </svg>
                        Switch to Documentation
                    </a>
                </div>
            </div>
        </aside>

        <main class="flex-1 px-4 py-8 sm:px-6 lg:px-8">
            <div class="container mx-auto">
                <div class="max-w-4xl mx-auto">
                    <nav class="flex mb-6" aria-label="Breadcrumb">
                        <ol class="inline-flex items-center space-x-1 md:space-x-3">
                            <li class="inline-flex items-center">
                                <a href="../index.html" class="inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600">
                                    <svg class="w-3 h-3 mr-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"/>
                                    </svg>
                                    Home
                                </a>
                            </li>
                            <li>
                                <div class="flex items-center">
                                    <svg class="w-3 h-3 text-gray-400 mx-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
                                    </svg>
                                    <a href="index.html" class="ml-1 text-sm font-medium text-gray-700 hover:text-blue-600 md:ml-2">Windsurf IDE</a>
                                </div>
                            </li>
                            <li>
                                <div class="flex items-center">
                                    <svg class="w-3 h-3 text-gray-400 mx-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
                                    </svg>
                                    <span class="ml-1 text-sm font-medium text-gray-500 md:ml-2">Flow Snippets</span>
                                </div>
                            </li>
                        </ol>
                    </nav>
                    
                    <h1 class="text-3xl font-bold text-gray-900 mb-6">Windsurf Flow JSON Snippets</h1>
                    
                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-8">
                        <p class="text-blue-700">
                            This page provides ready-to-use JSON snippets for creating AI flows in the Windsurf Editor. These snippets can be copied and pasted directly into the Windsurf Editor to quickly implement key functionality for the UAE Real-Estate AI Platform.
                        </p>
                    </div>
                    
                    <div class="prose prose-blue max-w-none">
                        <h2 id="introduction">Introduction to Windsurf Flows</h2>
                        <p>
                            Windsurf Flows are JSON-based definitions that describe the structure and behavior of AI workflows in the Windsurf Editor. Each flow consists of nodes (representing operations or tools) and edges (representing the flow of data between nodes).
                        </p>
                        
                        <p>
                            The snippets provided on this page cover five key flows for the UAE Real-Estate AI Platform:
                        </p>
                        
                        <ol>
                            <li><strong>Backend Initialization Flow</strong> - Sets up the backend services and connections</li>
                            <li><strong>PGVector Migration Flow</strong> - Manages vector database migrations</li>
                            <li><strong>Langfuse Tracing Flow</strong> - Implements observability and tracing</li>
                            <li><strong>Helm Deployment Flow</strong> - Automates deployment to Kubernetes</li>
                            <li><strong>ADR Writing Flow</strong> - Assists in creating Architectural Decision Records</li>
                        </ol>
                        
                        <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 my-6">
                            <p class="text-yellow-700">
                                <strong>Note:</strong> To use these snippets, you must have the Windsurf Editor set up and configured as described in the <a href="setup-guide.html" class="text-blue-600 hover:text-blue-800">Setup Guide</a>.
                            </p>
                        </div>
                        
                        <h2 id="using-snippets">How to Use These Snippets</h2>
                        <p>
                            To use a snippet in the Windsurf Editor:
                        </p>
                        
                        <ol>
                            <li>Copy the JSON snippet for the flow you want to implement.</li>
                            <li>In Windsurf Editor, go to File > Import > Import from JSON.</li>
                            <li>Paste the JSON into the import dialog and click "Import".</li>
                            <li>The flow will be created and displayed in the editor.</li>
                            <li>Review and customize the flow as needed for your specific requirements.</li>
                        </ol>
                        
                        <p>
                            Alternatively, you can create a new flow and use the "Code View" to paste the JSON directly.
                        </p>
                        
                        <h2 id="backend-initialization">1. Backend Initialization Flow</h2>
                        <p>
                            This flow initializes the backend services required for the UAE Real-Estate AI Platform, including database connections, API clients, and authentication services.
                        </p>
                        
                        <div class="mb-4">
                            <button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2" onclick="copyToClipboard('backend-init-snippet')">
                                Copy Snippet
                            </button>
                        </div>
                        
                        <pre><code class="language-json" id="backend-init-snippet">{
  "id": "backend-initialization-flow",
  "name": "Backend Initialization Flow",
  "description": "Initializes backend services for the UAE Real-Estate AI Platform",
  "version": "1.0.0",
  "nodes": [
    {
      "id": "start",
      "type": "trigger",
      "position": { "x": 100, "y": 100 },
      "data": {
        "name": "Start",
        "triggerType": "manual"
      }
    },
    {
      "id": "db-connection",
      "type": "database",
      "position": { "x": 300, "y": 100 },
      "data": {
        "name": "Database Connection",
        "connectionString": "{{env.VECTOR_DB_CONNECTION}}",
        "databaseType": "postgresql"
      }
    },
    {
      "id": "api-clients",
      "type": "code",
      "position": { "x": 500, "y": 100 },
      "data": {
        "name": "Initialize API Clients",
        "language": "typescript",
        "code": "const bayutClient = new BayutClient(env.BAYUT_API_KEY);\nconst propertyFinderClient = new PropertyFinderClient(env.PROPERTY_FINDER_API_KEY);\nconst dldClient = new DLDClient(env.DLD_API_KEY);\n\nreturn { bayutClient, propertyFinderClient, dldClient };"
      }
    },
    {
      "id": "auth-service",
      "type": "service",
      "position": { "x": 700, "y": 100 },
      "data": {
        "name": "Auth Service",
        "serviceType": "auth",
        "config": {
          "jwtSecret": "{{env.JWT_SECRET}}",
          "expiresIn": "24h"
        }
      }
    },
    {
      "id": "langchain-init",
      "type": "code",
      "position": { "x": 900, "y": 100 },
      "data": {
        "name": "Initialize Lang
(Content truncated due to size limit. Use line ranges to read in chunks)